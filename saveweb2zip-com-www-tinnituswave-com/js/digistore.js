/*! For license information please see digistore.js.LICENSE.txt */
(()=>{var __webpack_modules__={1303:(e,t,o)=>{"use strict";o.d(t,{G:()=>r.sha256});var r=o(2580)},1386:()=>{"use strict";window.DIGISTORE_KEEP_AFFILIATEIN_LOCATION_HREF=!1},1925:(e,t,o)=>{"use strict";function r(e,t){var o;(null===(o=window.location.search)||void 0===o?void 0:o.match(/debug=1/))&&console.log("DEBUG:",e+"(",Array.from(t).filter((e=>void 0!==e)),")")}o.d(t,{$:()=>r})},2580:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(o){return new Sha256(t,!0).update(o)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var o=0;o<OUTPUT_TYPES.length;++o){var r=OUTPUT_TYPES[o];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(o,r){return new HmacSha256(o,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,o){return t.create(e).update(o)};for(var o=0;o<OUTPUT_TYPES.length;++o){var r=OUTPUT_TYPES[o];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,o){var r,i=typeof e;if("string"===i){var n,a=[],s=e.length,d=0;for(r=0;r<s;++r)(n=e.charCodeAt(r))<128?a[d++]=n:n<2048?(a[d++]=192|n>>6,a[d++]=128|63&n):n<55296||n>=57344?(a[d++]=224|n>>12,a[d++]=128|n>>6&63,a[d++]=128|63&n):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++r)),a[d++]=240|n>>18,a[d++]=128|n>>12&63,a[d++]=128|n>>6&63,a[d++]=128|63&n);e=a}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var _=[],c=[];for(r=0;r<64;++r){var l=e[r]||0;_[r]=92^l,c[r]=54^l}Sha256.call(this,t,o),this.update(c),this.oKeyPad=_,this.inner=!0,this.sharedMemory=o}Sha256.prototype.update=function(e){if(!this.finalized){var t,o=typeof e;if("string"!==o){if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,n=0,a=e.length,s=this.blocks;n<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(i=this.start;n<a&&i<64;++n)s[i>>2]|=e[n]<<SHIFT[3&i++];else for(i=this.start;n<a&&i<64;++n)(r=e.charCodeAt(n))<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++n)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,o,r,i,n,a,s,d,_=this.h0,c=this.h1,l=this.h2,u=this.h3,p=this.h4,h=this.h5,m=this.h6,f=this.h7,w=this.blocks;for(e=16;e<64;++e)t=((i=w[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,o=((i=w[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,w[e]=w[e-16]+t+w[e-7]+o|0;for(d=c&l,e=0;e<64;e+=4)this.first?(this.is224?(n=300032,f=(i=w[0]-1413257819)-150054599|0,u=i+24177077|0):(n=704751109,f=(i=w[0]-210244248)-1521486534|0,u=i+143694565|0),this.first=!1):(t=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),r=(n=_&c)^_&l^d,f=u+(i=f+(o=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&h^~p&m)+K[e]+w[e])|0,u=i+(t+r)|0),t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(a=u&_)^u&c^n,m=l+(i=m+(o=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&h)+K[e+1]+w[e+1])|0,t=((l=i+(t+r)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(s=l&u)^l&_^a,h=c+(i=h+(o=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&f^~m&p)+K[e+2]+w[e+2])|0,t=((c=i+(t+r)|0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(d=c&l)^c&u^s,p=_+(i=p+(o=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&m^~h&f)+K[e+3]+w[e+3])|0,_=i+(t+r)|0;this.h0=this.h0+_|0,this.h1=this.h1+c|0,this.h2=this.h2+l|0,this.h3=this.h3+u|0,this.h4=this.h4+p|0,this.h5=this.h5+h|0,this.h6=this.h6+m|0,this.h7=this.h7+f|0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,o=this.h2,r=this.h3,i=this.h4,n=this.h5,a=this.h6,s=this.h7,d=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(d+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),d},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,o=this.h2,r=this.h3,i=this.h4,n=this.h5,a=this.h6,s=this.h7,d=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24&255,o>>16&255,o>>8&255,255&o,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,n>>24&255,n>>16&255,n>>8&255,255&n,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||d.push(s>>24&255,s>>16&255,s>>8&255,255&s),d},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},3355:(e,t,o)=>{"use strict";let r;function i(e=""){return void 0===r&&(r=0),"id"+(new Date).getTime()+"_"+Math.round(1e4*Math.random())+"_"+r++}o.d(t,{y:()=>i})},3377:(e,t,o)=>{"use strict";function r(e){return(e=["#","?"].indexOf(e[0])>=0?e.slice(1):e).split("&").reduce(((e,t)=>{const[o,r]=t.split("=");return e[o]=r,e}),{})}o.d(t,{S:()=>r})},4378:(e,t,o)=>{"use strict";o.d(t,{_I:()=>r,fr:()=>n,gD:()=>a,l2:()=>i});const r=["https://www.digistore24.com","https://www.checkout-ds24.com"];function i(e){e.startsWith("http")||(e="https://"+e),r.push(e.replace(/\/+$/,""))}function n(){return void 0!==window.DIGISTORE_ROOT_URL?window.DIGISTORE_ROOT_URL.replace(/\/$/,""):"https://www.checkout-ds24.com"}function a(e){console.log("Digistore24 - using test root url: ",e),window.DIGISTORE_ROOT_URL=e}},4588:(e,t,o)=>{"use strict";function r(e,t,o){return void 0===e[t]?o:e[t]}o.d(t,{N:()=>r})},5389:(e,t,o)=>{"use strict";o.d(t,{hZ:()=>S,kt:()=>f});var r=o(5482),i=o(6216),n=o(4378),a=o(1303),s=o(6210),d=o(9769),_=o(6008),c=o(7508),l=o(9561),u=o(3377),p=o(8258);const h=new d.N;let m={};function f(){return(0,r.sH)(this,void 0,void 0,(function*(){yield function(){return(0,r.sH)(this,void 0,void 0,(function*(){var e;if(void 0===window.DIGISTORE_PRODUCT_ID)return;const t=S(),o=Object.assign({},t),r={link_id:c.Vk.link_id_keys,utm_data:c.Vk.utm_keys,click_amt:c.Vk.click_amt_keys};Object.keys(r).forEach((e=>{o[e]=r[e].reduce(((e,t)=>{var r;return e+=(null!==(r=o[t])&&void 0!==r?r:"")+c.Vk.link_id_sep,delete o[t],e}),""),o[e].match(new RegExp("^"+c.Vk.link_id_sep+"+$"))&&(o[e]="")}));const d=null!==(e=o[c.Vk.vendor_key])&&void 0!==e?e:"",_=o[c.Vk.affiliate_key],l=o[c.Vk.campaignkey_key],u=o[c.Vk.email_key],h=o.link_id,f=o.utm_data,k=o.click_amt,g=o[c.Vk.promolink_domain_key],b="group_sids="+h+"&ds24tr="+d+"&ds24utm="+f+"&ds24cmt="+k+"&ds24domain="+encodeURIComponent(null!=g?g:document.referrer)+"&ds24ref="+encodeURIComponent(document.referrer),A=w();if(function(){var e,t;try{const o=c.Vk.promo_parameter,r=null===(e=window.sessionStorage)||void 0===e?void 0:e.getItem(c.Jm),i=JSON.parse(r);if((null==i?void 0:i.parameter)&&JSON.stringify(i.parameter)===JSON.stringify(o))return!1;const n=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(c.jC),a=JSON.parse(n);if((null==a?void 0:a.parameter)&&JSON.stringify(a.parameter)===JSON.stringify(o))return!1;const s=(0,p.W)(c.x6),d=JSON.parse(s);if((null==d?void 0:d.parameter)&&JSON.stringify(d.parameter)===JSON.stringify(o))return!1}catch(e){}return!0}()){let e,t=y(c.Vk.checkout_domain)||(0,n.fr)();try{const o=yield(0,s.E)({url:E(t,_,l,b,"json")+"&get_domain=1",dataType:"jsonp",error:e=>{console.error("PromoPixel JSONP failed",e)}});m[t]=!0,e=null==o?void 0:o.can_store,(null==o?void 0:o.orderform_domain)&&(c.Vk.checkout_domain&&y(c.Vk.checkout_domain)!==o.orderform_domain&&console.warn(`You are not allowed to use checkout_domain=${y(c.Vk.checkout_domain)}, please use ${o.orderform_domain} when you configure your promo code!`),t=o.orderform_domain)}catch(o){console.warn("Primary PromoPixel request failed, retrying with root domain.",`\nFailed domain: ${t}`,`\nAffiliate: ${_||"NOT_SET"}`,`\nCampaign: ${l||"NOT_SET"}`,"\nVendor hint: Check your Configuration.checkout_domain setting and ensure the domain is accessible.",`\nCurrent checkout_domain: ${c.Vk.checkout_domain||"NOT_SET"}`,o);try{const o=yield(0,s.E)({url:E((0,n.fr)(),_,l,b,"json")+"&get_domain=1",dataType:"jsonp"});e=null==o?void 0:o.can_store,m[(0,n.fr)()]=!0,t=(null==o?void 0:o.orderform_domain)?o.orderform_domain:(0,n.fr)()}catch(e){console.warn("Fallback PromoPixel request also failed. Using root domain only.",e),t=(0,n.fr)()}}A.can_store=e,A.orderform_domain=t,function(e,t,o,r,i=!0){if(void 0===m[e]){m[e]=!0;const n=E(e,t,o,r+(i?"&skip_count=1":"")),a=document.createElement("img");a.id="digistore_promopixel",a.setAttribute("style","width: 1px !important; height: 1px !important; padding: 0 !important; margin: 0 !important; display: block !important; position: absolute !important; bottom: 0 !important; right: 0 !important; z-index: -1 !important; border: none !important; background: transparent !important;"),a.setAttribute("src",n),document.body.appendChild(a)}}(y(t),_,l,b,!0),function(e,t,o,r,i){if(t&&o){const n=e+"/buy/promolink/get_onetime_pass/"+(0,a.G)(t);(0,s.E)({url:n,dataType:"json",success:n=>{const s=e+"/buy/promolink/email/"+o+"/"+(r||"CAMPAIGNKEY")+"/"+window.DIGISTORE_PRODUCT_ID+"/"+(0,a.G)(t)+"/"+n.password+".png?"+i,d=document.createElement("img");d.id="digistore_promopixel_email",d.setAttribute("style","width: 1px !important; height: 1px !important; padding: 0 !important; margin: 0 !important; display: block !important; position: absolute !important; bottom: 0 !important; right: 0 !important; z-index: -1 !important; border: none !important; background: transparent !important;"),d.setAttribute("src",s),document.body.appendChild(d)}})}}(y(t),u,_,l,b),A.loaded=!0}A.parameter=c.Vk.promo_parameter,A.orderform_domain&&(c.Vk.orderform_domain=A.orderform_domain,n._I.indexOf(window.location.protocol+"//"+A.orderform_domain)<0&&(0,n.l2)(window.location.protocol+"//"+A.orderform_domain)),c.Vk.promo_code_loaded=!0;const O=JSON.stringify({parameter:t});if(A.can_store){try{window.localStorage.setItem(c.jC,O)}catch(e){}(0,p.D)(c.x6,O,7)}else(0,p.D)(c.x6,O,0);try{window.sessionStorage.setItem(c.Jm,JSON.stringify(A))}catch(e){}return(0,i.f)([c.Vk.vendor_key,c.Vk.affiliate_key,c.Vk.campaignkey_key,c.Vk.link_id_keys,c.Vk.click_amt_keys,c.Vk.promolink_domain_key]),o}))}(),c.Vk.adjust_domain&&h.add(new l.j(c.Vk.orderform_domain)),h.add(new _.W(c.Vk.adjust_all_urls,c.Rs,c.Vk.promo_parameter)),h.run();const e=document.createElement("div");e.setAttribute("id","digistore24_js_included"),e.style.display="none",document.body.appendChild(e)}))}function w(){var e;let t;try{const o=null===(e=window.sessionStorage)||void 0===e?void 0:e.getItem(c.Jm);t=JSON.parse(o),"object"==typeof t&&null!==t||(t={})}catch(e){t={}}return t}let k=!1;function S(){var e;if(k)return c.Vk.promo_parameter;let t=Object.assign({},c.Vk.promo_parameter);const o=w();if(null!==o.parameter&&void 0!==o.parameter){const e=Object.keys(o.parameter);e.length>0&&e.filter((e=>c.Xl.indexOf(e)>=0)).forEach((e=>{const r=o.parameter[e];t[e]=r&&"null"!==r?r:""}))}if(!o.parameter||0===Object.keys(o.parameter).length)try{const o=null===(e=window.localStorage)||void 0===e?void 0:e.getItem(c.jC),r=JSON.parse(o);"object"==typeof(null==r?void 0:r.parameter)&&null!==r.parameter&&Object.keys(t).filter((e=>c.Xl.indexOf(e)>=0)).forEach((e=>{const o=r.parameter[e];t[e]=o&&"null"!==o?o:""}))}catch(e){}try{const e=JSON.parse((0,p.W)(c.x6));"object"==typeof(null==e?void 0:e.parameter)&&null!==e.parameter&&Object.keys(t).filter((e=>c.Xl.indexOf(e)>=0)).forEach((o=>{const r=e.parameter[o];t[o]=r&&"null"!==r?r:""}))}catch(e){}let r={};return location.hash&&(r=(0,u.S)(location.hash)),location.search&&(r=Object.assign(Object.assign({},r),(0,u.S)(location.search))),Object.keys(r).length>0&&(r.e&&!r[c.Vk.email_key]&&(r[c.Vk.email_key]=r.e),Object.keys(r).filter((e=>c.Xl.indexOf(e)<0)).forEach((e=>{delete r[e]})),t=Object.assign(Object.assign({},t),r)),c.Vk.promo_parameter=t,k=!0,c.Vk.promo_parameter}function E(e,t,o,r,i="image"){return e+"/track/"+(t||"AFFILIATE")+"/"+window.DIGISTORE_PRODUCT_ID+(o?"/"+o:"")+("image"===i?".png":".json")+"?"+r}function y(e){if(!e)return e;const t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")?e:`${window.location.protocol}//${e}`}},5482:(e,t,o)=>{"use strict";function r(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{d(r.next(e))}catch(e){n(e)}}function s(e){try{d(r.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}d((r=r.apply(e,t||[])).next())}))}o.d(t,{sH:()=>r}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},5742:(e,t,o)=>{"use strict";function r(){return"https://www.checkout-ds24.com"}o.d(t,{X:()=>r})},6008:(e,t,o)=>{"use strict";o.d(t,{W:()=>n});var r=o(4378),i=o(9754);class n{constructor(e,t,o){this.trackAllDomain=e,this.parameterToAppend=t,this.parameterValues=o,this.appendSearchString=this.parameterToAppend.filter((e=>!!this.parameterValues[e])).map((e=>e+"="+this.parameterValues[e])).join("&")}isValidLink(e){return!!this.appendSearchString&&(this.trackAllDomain||r._I.indexOf("http://"+e.host)>=0||r._I.indexOf("https://"+e.host)>=0)}replaceLink(e){e.search?e.search="?"+(0,i.$)(e.search,this.parameterValues)+"&"+this.appendSearchString:e.search="?"+this.appendSearchString}isValidUrl(e){return!!this.appendSearchString&&!!r._I.find((t=>e.startsWith(t)))}replaceUrl(e){return(0,i.j)(e,this.parameterToAppend,this.parameterValues)}}},6210:(e,t,o)=>{"use strict";o.d(t,{E:()=>i});var r=o(5482);function i(e){return(0,r.sH)(this,void 0,void 0,(function*(){return new Promise(((t,o)=>{var r;if("jsonp"===e.dataType)return void function(o,r,i,a){const s="__wrap_jsonp_response_"+n++;window[s]=function(o){var r;r=o,e.success&&e.success(r),t(r)};const d=o+(o.indexOf("?")>=0?"&":"?")+r+"="+encodeURIComponent(s),_=document.createElement("script"),c=function(){document.head.removeChild(_),delete window[s]};_.setAttribute("src",d),_.addEventListener("load",c),_.addEventListener("error",(()=>{c(),a&&a(new Error(`JSONP request failed: ${d}`))})),document.head.appendChild(_)}(e.url,null!==(r=e.jsonpCallbackFunctionParameter)&&void 0!==r?r:"jsonp_callback",0,(t=>{e.error&&(e.error(t),o(t))}));const i=new XMLHttpRequest;i.open(e.method?e.method:"GET",e.url,!0),"json"===e.dataType&&i.setRequestHeader("Accept","application/json"),i.onload=()=>{const o=JSON.parse(i.responseText);e.success&&e.success(o),t(o)},i.send(e.data?JSON.stringify(e.data):null)}))}))}let n=0},6216:(e,t,o)=>{"use strict";o.d(t,{f:()=>i});var r=o(1925);const i=function(e){if((0,r.$)("digistoreSanitizeLocation",[e]),void 0===window.DIGISTORE_KEEP_AFFILIATEIN_LOCATION_HREF||!window.DIGISTORE_KEEP_AFFILIATEIN_LOCATION_HREF){var t=location.href,o=location.href.indexOf("?"),i=location.href.indexOf("#"),a=o>=0,s=i>=0;if(a||s){var d=a?o:i,_=t.slice(0,d),c=a?s?t.slice(o+1,i):t.slice(o+1):"",l=s?t.slice(i+1):"";a&&(c=n(e,c)),s&&(l=n(e,l)),t=_,c&&(t+="?"+c),l&&(t+="#"+l),history.pushState("",document.title,t)}}};function n(e,t){var o=t.split("&"),r="";for(let t in o){var i=o[t],n=i.indexOf("="),a=n>=0?i.slice(0,n):i,s=!1;for(let t in e){if(s)break;var d=e[t],_="object"==typeof d?d:[d];for(let e in _)if(s=_[e]===a)break}s||(r&&(r+="&"),r+=i)}return r}},7508:(e,t,o)=>{"use strict";o.d(t,{Jm:()=>n,Rs:()=>d,Vk:()=>i,Xl:()=>_,jC:()=>a,x6:()=>s});const r={ds24tr:"",aff:"",cam:"",cid:"",sid1:"",sid2:"",sid3:"",sid4:"",sid5:"",a:"",c:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",email:"",testpay:"",testpay_team:""};class i{static initialize(){this.promo_parameter=r}}i.adjust_domain=!1,i.adjust_all_urls=!1,i.checkout_url="https://www.checkout-ds24.com",i.orderform_domain=function(){const e="https://www.checkout-ds24.com",t=e.indexOf("://");return t>=0?e.slice(t+3):e}(),i.checkout_domain="",i.promo_code_loaded=!1,i.promo_parameter=r,i.affiliate_key="aff",i.campaignkey_key="cam",i.vendor_key="ds24tr",i.link_id_sep="~",i.link_id_keys=["cid","sid1","sid2","sid3","sid4","sid5"],i.utm_keys=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],i.click_amt_keys=["a","c"],i.email_key="email",i.promolink_domain_key="ds24_domain",i.testpay_key="testpay",i.testpay_team_key="testpay_team";const n="ds24s.v1",a="ds24p.v1",s="ds24c.v1",d=[i.vendor_key,i.affiliate_key,i.campaignkey_key,...i.link_id_keys,...i.utm_keys,...i.click_amt_keys,i.email_key,i.testpay_key,i.testpay_team_key],_=[...d,i.promolink_domain_key];function c(e,t,o,r){void 0===window[e]&&Object.defineProperty(window,e,{get:()=>{console.warn("[Digistore24] Deprecated configuration: Do not read value from window."+e+" use api functions!");const r=t.reduce(((e,t)=>e[t]),i);return o?o(r):r},set:o=>{console.warn("[Digistore24] Deprecated configuration: Do not set window."+e+" = <value> use api functions!");const n=t.slice(0,-1).reduce(((e,t)=>e[t]),i);n[t[t.length-1]]=r?r(n[t[t.length-1]],o):o}})}c("DIGISTORE_VENDOR_VAL",["promo_parameter","ds24tr"]),c("DIGISTORE_AFFILIATE_VAL",["promo_parameter","aff"]),c("DIGISTORE_CAMPAIGNKEY_VAL",["promo_parameter","cam"]),c("DIGISTORE_LINK_ID_VAL",["promo_parameter"],(e=>i.link_id_keys.map((t=>e[t])).join(i.link_id_sep)),((e,t)=>{const o=t.split(i.link_id_sep);return i.link_id_keys.forEach(((t,r)=>{var i;e[t]=null!==(i=o[r])&&void 0!==i?i:""})),e})),c("DIGISTORE_UTM_VAL",["promo_parameter"],(e=>i.utm_keys.map((t=>e[t])).join(i.link_id_sep)),((e,t)=>{const o=t.split(i.link_id_sep);return i.utm_keys.forEach(((t,r)=>{var i;e[t]=null!==(i=o[r])&&void 0!==i?i:""})),e})),c("DIGISTORE_CLICK_AMT_VAL",["promo_parameter"],(e=>i.click_amt_keys.map((t=>e[t])).join(i.link_id_sep)),((e,t)=>{const o=t.split(i.link_id_sep);return i.click_amt_keys.forEach(((t,r)=>{var i;e[t]=null!==(i=o[r])&&void 0!==i?i:""})),e})),c("DIGISTORE_EMAIL_VAL",["promo_parameter","email"]),c("DIGISTORE_AFFILIATE_KEY",["affiliate_key"]),c("DIGISTORE_CAMPAIGNKEY_KEY",["campaignkey_key"]),c("DIGISTORE_VENDORKEY",["vendor_key"]),c("DIGISTORE_LINK_ID_SEP",["link_id_sep"]),c("DIGISTORE_LINK_ID_KEY",["link_id_keys"]),c("DIGISTORE_UTM_KEY",["utm_keys"]),c("DIGISTORE_CLICK_AMT_KEY",["click_amt_keys"]),c("DIGISTORE_EMAIL_KEY",["email_key"])},8258:(e,t,o)=>{"use strict";function r(e,t,o){let r=e+"="+t+";path=/";if(o>0){const i=new Date;i.setTime(i.getTime()+864e5*o),r=e+"="+t+";expires="+i.toUTCString()+";path=/"}document.cookie=r,void 0===window.ds24_cookies&&(window.ds24_cookies={}),window.ds24_cookies[e]=t}function i(e){if(void 0===window.ds24_cookies&&(window.ds24_cookies={}),void 0!==window.ds24_cookies[e])return window.ds24_cookies[e];const t=e+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let r=o[e];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}o.d(t,{D:()=>r,W:()=>i})},9561:(e,t,o)=>{"use strict";o.d(t,{j:()=>r});class r{constructor(e){const t=e.indexOf("://");this.domain=t>=0?e.slice(t+3):e}isValidLink(e){return e.host!==this.domain&&!!e.pathname.match(/^\/product\/[0-9]+/)}replaceLink(e){e.host=this.domain}isValidUrl(){return!1}replaceUrl(e){return e}}},9754:(e,t,o)=>{"use strict";o.d(t,{$:()=>i,j:()=>n});var r=o(3377);function i(e,t){const o=(0,r.S)(e);return Object.keys(o).filter((e=>!t[e])).map((e=>e+"="+o[e])).join("&")}function n(e,t,o){const r=e.indexOf("?"),n=t.filter((e=>!!o[e])).map((e=>e+"="+o[e])).join("&");return n?r>=0?e.slice(0,r+1)+i(e.slice(r),o)+"&"+n:e+"?"+n:e}},9769:(e,t,o)=>{"use strict";o.d(t,{N:()=>r});class r{constructor(){this.linkReplacerList=[]}replaceLink(e){this.linkReplacerList.forEach((t=>{t.isValidLink(e)&&t.replaceLink(e)}))}replaceIframeUrl(e){return this.linkReplacerList.forEach((t=>{t.isValidUrl(e.src)&&(e.src=t.replaceUrl(e.src))}))}add(e){this.linkReplacerList.push(e)}run(){document.querySelectorAll("a").forEach((e=>this.replaceLink(e))),document.querySelectorAll("iframe").forEach((e=>this.replaceIframeUrl(e))),window.MutationObserver}stop(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}}}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,o)=>(__webpack_require__.f[o](e,t),t)),[])),__webpack_require__.u=e=>"js/digistore-"+{303:"widget",343:"cart-css",384:"modern-css",526:"cart_overlay-css",949:"cart"}[e]+".chunk.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="client:",__webpack_require__.l=(e,t,o,r)=>{if(inProgress[e])inProgress[e].push(t);else{var i,n;if(void 0!==o)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var d=a[s];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==dataWebpackPrefix+o){i=d;break}}i||(n=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",dataWebpackPrefix+o),i.src=e),inProgress[e]=[t];var _=(t,o)=>{i.onerror=i.onload=null,clearTimeout(c);var r=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),t)return t(o)},c=setTimeout(_.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=_.bind(null,i.onerror),i.onload=_.bind(null,i.onload),n&&document.head.appendChild(i)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={521:0};__webpack_require__.f.j=(t,o)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise(((o,i)=>r=e[t]=[o,i]));o.push(r[2]=i);var n=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(n,(o=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",a.name="ChunkLoadError",a.type=i,a.request=n,r[1](a)}}),"chunk-"+t,t)}};var t=(t,o)=>{var r,i,[n,a,s]=o,d=0;if(n.some((t=>0!==e[t]))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);s&&s(__webpack_require__)}for(t&&t(o);d<n.length;d++)i=n[d],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},o=self.webpackChunkclient=self.webpackChunkclient||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";__webpack_require__(1386);var e=__webpack_require__(8258);function t(e){if(!e)return{};const t={};a=0;const o=e.split(" ");let r,i=!1,n="";for(let e in o)if(i)o[e].substr(-1)==i?(r+=" "+o[e].substr(0,o[e].length-1),t[n]=r,r="",n="",i=!1):r+=" "+o[e];else{var a=o[e].indexOf("=");if(a>=0){n=o[e].substring(0,a).toLowerCase(),r=o[e].substring(a+1);const t=r.substr(0,1),d=r.substr(-1);var s='"'===t||"'"===t;s?s&&s&&t===d?r=r.substring(1,r.length-1):(r=r.substring(1),i=t):r=r.replace(/\"/g,"").replace(/\'/g,"")}else n=o[e].toLowerCase(),r="";i||(n&&(t[n]=r),n="",r="")}return n&&r&&(t[n]=r),t}var o=__webpack_require__(4588),r=__webpack_require__(4378),i=__webpack_require__(3355),n=__webpack_require__(5482),a=__webpack_require__(7508);function s(e){if("complete"===document.readyState)return void e();const t=()=>{e(),window.removeEventListener("load",t,!1),window.removeEventListener("DOMContentLoaded",t,!1)};window.addEventListener("load",t,!1),document.addEventListener("DOMContentLoaded",t,!1)}var d=__webpack_require__(1925),_=__webpack_require__(5389);const c=function(e,t,o,r){(0,d.$)("digistorePromoPixel",arguments);let i=e;"object"==typeof e&&(i=e.product_id,r=e.email_key,o=e.campaignkey_key,t=e.affiliate_key,a.Vk.adjust_domain=!0===e.adjust_domain,a.Vk.adjust_all_urls=!0===e.adjust_all_urls,a.Vk.checkout_domain=e.checkout_domain);let c="";switch(void 0!==t&&(a.Vk.affiliate_key=t),void 0!==o&&(a.Vk.campaignkey_key=o),void 0!==r&&(a.Vk.email_key=r),typeof i){case"undefined":c="DigiStore24 product id missing.";break;case"number":i<=0&&(c="DigiStore24 product id "+i+" out of range.",i=void 0);break;case"string":c="Replace "+i+" by our DigiStore24 product id.",i=parseInt(i),(i<=0||isNaN(i))&&(i=void 0);break;default:c="Invalid DigiStore24 product id.",i=void 0}i?(window.DIGISTORE_PRODUCT_ID=i,s((()=>(0,n.sH)(this,void 0,void 0,(function*(){yield(0,_.kt)(),"function"==typeof e.callback&&e.callback(a.Vk.promo_parameter.aff,a.Vk.promo_parameter.cam)}))))):alert("ERROR: "+c+"\n\nCheck your html code.\n\nMake sure it contains text like: digistorePromoPixel( 12345 )\n\nReplace 12345 by your product id.")},l=function(e,t,o,r){c(e,t,o,r)};var u=__webpack_require__(5742);class p{constructor(e="DsUpsellModal-"+Math.random()){this.randFunctionKey=e,this.useShadowDom=!0,this.close=()=>{this.getContainer().innerHTML=""},this.openOverlay=e=>{this.getContainer().innerHTML=`\n      \n  <style>\n\n    *  {\n      box-sizing: border-box;\n    }\n\n     iframe {\n      border: 0;\n      min-width: 300px;\n     }\n\n    .ds-modal--backdrop {\n      position: fixed;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: rgba(0, 0, 0, .5);\n      z-index: 9998;\n    }\n\n    .ds-modal--header {\n      display: flex;\n      align-items: center;\n      padding: 12px 24px;\n      background: #fff;\n      position: relative;\n    }\n\n    .center-pos {\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      margin: 0 auto;\n      z-index: 9998;\n    }\n\n    .ds-modal {\n      background: #fff;\n      border-radius: 6px;\n      /*padding: 12px 24px;*/\n      min-width: 300px;\n      overflow: hidden;\n    }\n\n    .ds-modal--title {\n      font-size: 150%;\n      width: 100%;\n    }\n\n    .ds-modal--dismiss {\n      cursor: pointer;\n    }\n\n    .ds-modal--content {\n      min-height: 50px;\n    }\n\n    .ds-modal--buttons {\n    }\n\n    .ds-show-only-closing .ds-modal--dismiss {\n      position: relative;\n      right: -42px;\n      top: 10px;\n    }\n\n    .ds-show-only-closing.ds-modal {\n      overflow: inherit;\n      border-radius: unset;\n      background:transparent;\n    }\n\n    .ds-show-only-closing .ds-modal--header {\n      background:transparent;\n    }\n\n    .ds-show-only-closing .ds-modal--content {\n      border-radius: 6px;\n      overflow: hidden;\n    }\n\n    .ds-loading {\n      display: inline-block;\n      width: 50px;\n      height: 50px;\n      border: 3px solid rgba(255,255,255,.3);\n      border-radius: 50%;\n      border-top-color: #fff;\n      animation: spin 1s ease-in-out infinite;\n      -webkit-animation: spin 1s ease-in-out infinite;\n    }\n\n    @keyframes spin {\n      to { -webkit-transform: rotate(360deg); }\n    }\n    @-webkit-keyframes spin {\n      to { -webkit-transform: rotate(360deg); }\n    }\n\n  </style>\n  \n      <div class="ds-modal--backdrop" onclick="window.${this.randFunctionKey}.close()"></div>\n      <div class="center-pos">\n        ${e}\n      </div>\n      `};const t=document.body;this._container=document.createElement("div"),this._container.setAttribute("data-e2e","ds24-shadow-modal"),this.useShadowDom&&this._container.attachShadow({mode:"open"}),t.appendChild(this._container),window[this.randFunctionKey]=this}getContainer(){return this.useShadowDom?this._container.shadowRoot:this._container}loading(){this.openOverlay('<div class="ds-loading"></div>')}modal(e,t,o="",r=!1){this.openOverlay(`\n               <div class="ds-modal ${r?"ds-show-only-closing":""}">\n                  <div class="ds-modal--header">\n                     <div class="ds-modal--title">${e}</div>\n                     <svg  class="ds-modal--dismiss" onClick="window.${this.randFunctionKey}.close()" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M18 1.28182L16.7091 0L9 7.71818L1.28182 0L0 1.28182L7.71818 9L0 16.7091L1.28182 18L9 10.2818L16.7091 18L18 16.7091L10.2818 9L18 1.28182Z" fill="${r?"#FFFFFF":"#758B9C"}"/>\n                     </svg>\n                  </div>\n                  <div class="ds-modal--content">${t}</div>\n                  <div class="ds-modal--buttons">\n                    ${o}\n                  </div>\n                </div>\n`)}}let h,m,f={};const w=(0,u.X)(),k="digistore-upsell-button",S=()=>document.querySelectorAll(`input[name=${k}-radio]`),E=(e,t)=>{(0,d.$)("digistoreSetUpsellChoice",[e,t]),f[e]=t,((e,t)=>{f[e]=t,S().forEach((o=>{o.value===`${e}-${t}`&&(o.checked=!0)}))})(e,t),m=setTimeout((()=>A(h,f)),250)},y=e=>{const t=e.value.split("-");return{key:t[0],value:t[1]}},g=(e,t)=>{const o=(""+e.data).includes("setPayFrameHeight");if(e.data&&o)try{const o=JSON.parse(e.data);console.log("resizeData",o),"setPayFrameHeight"===(null==o?void 0:o.ds24action)&&o.payload&&t.forEach((e=>{var t,r;(null===(t=o.payload)||void 0===t?void 0:t.width)&&(e.width=`${o.payload.width}px`),(null===(r=o.payload)||void 0===r?void 0:r.height)&&(e.height=`${o.payload.height}px`)}))}catch(t){console.log("Fail to parse received message from upsell button postmessage: "+JSON.stringify(e.data))}},b=(e,t="100%",o="400px")=>(console.log("getUpsellIframe",t,o),`<iframe\n           data-e2e="upsell-button-iframe"\n          class="upsell-button-iframe"\n          src="${e}"\n          loading="lazy"\n          style="overflow: hidden;border: none; background: transparent;"\n          height="${o}"\n          width="${t}"\n          sandbox="allow-top-navigation allow-modals allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"\n          />`),A=(e,t=f)=>{m&&clearTimeout(m);const o=e=>{const t=document.querySelectorAll(".upsell-button-iframe");g(e,Array.from(t))};window.removeEventListener("message",o),window.addEventListener("message",o),h=e,(()=>{const e=S();e.forEach((e=>{e.onchange=()=>{if(e.checked){const t=y(e);E(t.key,t.value)}}})),console.log("radios",e)})();const r=document.querySelectorAll(`${k}`);r.forEach((function(o){let r=`${w}/upsell_buy_button/${e}`;const i=[...Array.from(o.attributes).map((e=>`${e.nodeName}=${e.nodeValue}`)),...Object.keys(t).map((e=>`${e}=${t[e]}`))];i.length&&(r+="?"+i.join("&"));const n=o.getElementsByTagName("iframe");if(n.length)Array.from(n).forEach((e=>{e.src=r}));else{const e=b(r);o.innerHTML=e}})),console.log("upsell-buttons",r)};function O(e,t=!0){(0,d.$)("ds24UpsellModal",arguments);const o=new p("upsell_modal");o.useShadowDom=t;const r={method:"GET",headers:new Headers({"Content-Type":"application/json"})};return o.loading(),fetch(e,r).then((e=>e.json())).then((e=>{setTimeout((()=>{if("show_message"===e.action&&e.message)o.modal("",`<div style="padding: 0 15px">${e.message}</div>`);else if("redirect"===e.action&&e.url)window.location.href=e.url;else if("show_iframe"===e.action&&e.iframe_url){const t="modalIframe",r=e=>{const r=o.getContainer().querySelector(`#${t}`),i=null==r?void 0:r.getElementsByTagName("iframe");(null==i?void 0:i.length)&&g(e,Array.from(i))};window.removeEventListener("message",r),window.addEventListener("message",r);const i=b(e.iframe_url,e.iframe_width+"px",e.iframe_height+"px");o.modal(e.headline||"",`<div id="${t}" style="margin-bottom: -9px;">${i}</div>`,"",!0)}}),0)})).catch((t=>{o.openOverlay(`${t}`),setTimeout((()=>{window.location.href=e}),0)}))}let v;function R(){!function(e){(()=>{const e=S(),t=Array.from(e).find((e=>e.checked));if(t){const e=y(t);E(e.key,e.value),console.log("preset selected radio",t)}else if(e.length){const t=y(e[0]);E(t.key,t.value),console.log("preset first radio",e[0])}})(),A(e);let t=0,o=0;if(document.querySelectorAll("a").forEach((r=>{const{hasNoLink:i,hasYesLink:n}=H(e,r);i&&t++,n&&o++})),!t&&o&&void 0===v){v=!0;const t=Number.MAX_SAFE_INTEGER||9007199254740991,o=(0,u.X)()+"/answer/"+e+"/upsell_no_button/",r=document.createElement("iframe");r.setAttribute("src",o),r.setAttribute("style","width: 500px; height: 150px; position: fixed; z-index: "+t+"; bottom: 0px; left: calc( 50% - 250px ); background-color: transparent; border: none; shadow: none;"),document.body.appendChild(r)}}(window.DS24_UPSELL_SESSION_ID)}function I(e){let t=location.href.split(e);const o=t[1];if(void 0===o)return!1;const r=o.split("&");for(let e=0;e<r.length;e++){t=r[e].split("=");const o=t[0],i=t[1];if("digistore_upsell_session_id"==o&&i){const e=i.split("#");return e?e[0]:i}}return!1}function H(e,t){var o;let r=!1,i=!1;const n=t.getAttribute("href");if(!n)return{hasNoLink:r,hasYesLink:i};let a=!1;const s=n.match(/(.*\/answer\/)(yes|no)(\/*|\/*\?.*)$/i);if(s){const t=s[2].toLowerCase();"no"===t&&(r=!0),"yes"===t&&(i=!0),a=s[1]+e+"/"+t+s[3]}else n.indexOf("digistore_upsell_session_id="+e)<0&&n.indexOf("digistore_upsell_session_id")>0&&(a=n.replace(/digistore_upsell_session_id/g,"digistore_upsell_session_id="+e));return a&&t.setAttribute("href",a),(null===(o=t.getAttribute("href"))||void 0===o?void 0:o.match(/\/answer\/.*\/yes.*$/i))&&(t.onclick=function(e){O(e.currentTarget.href),e.preventDefault()}),{hasNoLink:r,hasYesLink:i}}const D=function(e){(0,d.$)("digistoreUpsell",arguments);const o=t(null!=e?e:"");for(const e in o){const t=o[e];"root_url"===e&&(window.DIGISTORE_ROOT_URL=t.replace(/\/$/,""))}void 0===window.DS24_UPSELL_SESSION_ID&&(window.DS24_UPSELL_SESSION_ID=I("?"),window.DS24_UPSELL_SESSION_ID||(window.DS24_UPSELL_SESSION_ID=I("#")),window.DS24_UPSELL_SESSION_ID&&(document.addEventListener("mousedown",(e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest("a");t&&H(window.DS24_UPSELL_SESSION_ID,t)}),!0),s(R)))};let T;var C=__webpack_require__(6216),L=__webpack_require__(9754);const N=e=>{(0,d.$)("digistoreAppendAffiliateToUrl",[e]);const t=(0,_.hZ)();return(0,L.j)(e,a.Rs,t)},U=(e,t)=>{(0,d.$)("digistoreCheckoutUrl",[e,t]),a.Vk.promo_code_loaded||console.log("Digistore24: Please call digistoreCheckoutUrl AFTER digistorePromocode completed, so that it can use the correct custom domain in the url");let o=window.location.protocol+"//"+a.Vk.orderform_domain+"/product/"+e;return t&&(o+=("?"===t.charAt(0)?"":"?")+t),N(o)};function x(){return(0,n.sH)(this,void 0,void 0,(function*(){const e=yield __webpack_require__.e(303).then(__webpack_require__.bind(__webpack_require__,9428));for(const t in e)window[t]=e[t]}))}const P=window;P.ds24_set_cookie=e.D,P.ds24_get_cookie=e.W,P.ds24_parse_settings=t,P.ds24_retrieve=o.N,P.digistoreAddCustomDomain=r.l2,P.ds24_root_url=r.fr,P.ds24_set_root_url=r.gD,P.ds24_unique_id=i.y,P.digibankPromoPixel=l,P.digibankUpsell=function(){D()},P.digistoreSetEmailParamName=function(e){(0,d.$)("digistoreSetEmailParamName",arguments),a.Vk.email_key=e},P.digistoreKeepAffiliateInLocationHref=function(){(0,d.$)("digistoreKeepAffiliateInLocationHref",arguments),window.DIGISTORE_KEEP_AFFILIATEIN_LOCATION_HREF=!0},P.digistoreSetAffiliate=function(e,t){(0,d.$)("digistoreSetAffiliate",arguments),a.Vk.promo_parameter.aff=e,a.Vk.promo_parameter.cam=t},P.digistoreSetEmail=function(e){(0,d.$)("digistoreSetEmail",arguments),a.Vk.promo_parameter.email=e},P.createUpsellModal=O,P.digistoreCheckoutUrl=U;const M={digistorePromoPixel:c,digistoreAppendAffiliateToBuyUrls:function(e,t,o){(0,d.$)("digistoreAppendAffiliateToBuyUrls",arguments),console.warn("digistoreAppendAffiliateToBuyUrls() is deprecated. Please use digistorePromoPixel(), it's now a default behavior to append the affiliate to buy urls."),c(e,t,o)},digistoreSanitizeLocation:C.f,digistoreCart:function(e){if((0,d.$)("digistoreCart",arguments),void 0!==T)return void console.log("Digistore24: ignored second call of digistoreCart()");T=!0,window.DS24_NETTO=!1,window.DS24_CURRENCY_SYMBOL=!1,window.DS24_CURRENCY="",window.DS24_ORDERFORM_ID=0,window.DS24_RETURN_URL="",window.DS24_THANKYOU_URL="",window.DS24_CHECKOUT_URL="",window.DS24_NO_RETURN_BUTTON=!1,window.DS24_UPSELL="any",window.DS24_LANGUAGE="",window.DS24_TRACKING_PARAM="",window.DS24_OF_AS_POPUP=!1,window.DS24_INFO_POSITION="top",window.DS24_THEME=!1,window.DS24_INFO_STICKY=!1,window.DS24_CONTINUE_URL="",window.DS24_CONTINUE_LABEL="",window.DS24_QUANTITY_RO=!1,window.DS24_SHOW_CART_SUM=!1,window.DS24_SHOW_CART_ITEMS=!1,window.DS24_ON_CART_CHANGE=!1,window.DS24_ON_MESSAGE=!1,window.DS24_VOUCHER="",window.DS24_TOOLTIP_SHOWN_BY_CLICK=!1;const o=t(e);for(let e in o){var r=o[e];switch(e){case"orderform_as_popup":window.DS24_OF_AS_POPUP=!0;break;case"netto":window.DS24_NETTO=!0;break;case"currency_symbol":window.DS24_CURRENCY_SYMBOL=!0;break;case"currency":window.DS24_CURRENCY=r;break;case"orderform_id":window.DS24_ORDERFORM_ID=r;break;case"upsell":window.DS24_UPSELL=r;break;case"root_url":window.DIGISTORE_ROOT_URL=r.replace(/\/$/,"");break;case"return_url":window.DS24_RETURN_URL=r;break;case"thankyou_url":window.DS24_THANKYOU_URL=r;break;case"checkout_url":window.DS24_CHECKOUT_URL=r;break;case"lang":case"language":window.DS24_LANGUAGE=r;break;case"tracking":case"tracking_key":case"tracking_param":case"ds24tr":window.DS24_TRACKING_PARAM=r;break;case"no_return_button":window.DS24_NO_RETURN_BUTTON=""===r?1:r;break;case"info_position":window.DS24_INFO_POSITION=r.replace(/\W/g,"");break;case"info_sticky":window.DS24_INFO_STICKY=!0;break;case"theme":window.DS24_THEME=r.replace(/\W/g,""),"clasic"==window.DS24_THEME&&(window.DS24_THEME=!1);break;case"continue_url":window.DS24_CONTINUE_URL=r;break;case"continue_label":window.DS24_CONTINUE_LABEL=r;break;case"quantity_readonly":window.DS24_QUANTITY_RO=!0;break;case"show_cart_items":window.DS24_SHOW_CART_ITEMS=r;break;case"show_total_amount":window.DS24_SHOW_CART_SUM=r;break;case"on_cart_change":window.DS24_ON_CART_CHANGE=r;break;case"on_message":window.DS24_ON_MESSAGE=r;break;case"voucher":window.DS24_VOUCHER=r}window.DS24_RETURN_URL||(window.DS24_RETURN_URL=location.href)}window.DS24_INFO_STICKY&&(window.DS24_TOOLTIP_SHOWN_BY_CLICK=!0),(()=>{(0,n.sH)(this,void 0,void 0,(function*(){const e=yield __webpack_require__.e(949).then(__webpack_require__.bind(__webpack_require__,8001));s((()=>{for(let t in e)window[t]=e[t];e.ds24cart_loader()}))}))})()},digistoreUpsell:D,digistoreSetUpsellChoice:E,digistorePromocode:l,digitalElitePromocode:l,digistoreAppendAffiliateToUrl:N,digistoreCheckoutUrl:U};Object.keys(M).forEach((e=>{const t=e.replace(/^digistore/,"digistore");window[e]=M[e],window[t]=M[e]})),window.addEventListener("message",(e=>{if(e.data)try{!function(e){if("redirect"===(null==e?void 0:e.ds24action)){const t="https://www.digistore24.com/extern/ajax/redirect/"+e.payload.redirect_id;window.location.href=t}}(JSON.parse(e.data))}catch(t){window.location.search.includes("debug")&&console.log("Fail to parse received postmessage: "+JSON.stringify(e.data))}})),function e(){window._ds24||(window._ds24={q:[],e});const t=window;for(;window._ds24.q.length>0;){const[e,...o]=window._ds24.q.shift();t[e]?t[e].apply(window,o):console.warn('Coud not call "'+e+'" from ds24 queue')}window._ds24.e=e}(),s((()=>{document.querySelector("my-order-form")?x():window.MutationObserver&&new MutationObserver(((e,t)=>{for(const o of e)for(let e=0;e<o.addedNodes.length;e++)if(o.addedNodes[e].nodeName==="my-order-form".toUpperCase())return x(),void t.disconnect()})).observe(document.body,{subtree:!0,childList:!0})}))})()})();
//# sourceMappingURL=digistore.js.map